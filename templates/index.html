<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Araç Fiyat Tahmini</title>

    <!-- Bootstrap CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <style>
        body {
            background: #f5f7fa;
        }
        .page-wrapper {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .card-custom {
            max-width: 900px;
            width: 100%;
            border-radius: 1rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
        }
        .header-bar {
            background: #198754;
            color: #fff;
            border-radius: 1rem 1rem 0 0;
            padding: 1.2rem 1.5rem;
            text-align: center;
        }
        .header-bar h1 {
            font-size: 1.6rem;
            margin: 0;
            letter-spacing: 0.03em;
        }
        .form-label {
            font-weight: 600;
        }
        .prediction-box {
            font-size: 1.4rem;
            font-weight: bold;
        }
    </style>
</head>
<body>
<div class="page-wrapper">
    <div class="card card-custom">

        <!-- BAŞLIK -->
        <div class="header-bar">
            <h1>Araç Fiyat Tahmini – Çoklu Doğrusal Regresyon</h1>
        </div>

        <div class="card-body p-4">

            <!-- AÇIKLAMA -->
            <p class="mb-4">
                Aşağıdaki formda aracın teknik özelliklerini girerek
                tahmini satış fiyatını hesaplayabilirsiniz.
            </p>

            <!-- HATA MESAJI -->
            {% if error %}
            <div class="alert alert-danger">
                {{ error }}
            </div>
            {% endif %}

            <form method="POST">
                <div class="row g-3">

                    <!-- SOL SÜTUN -->
                    <div class="col-md-6">

                        <label class="form-label" for="wheelbase">
                            Aks Mesafesi (Wheelbase)
                        </label>
                        <input type="number" step="0.1" class="form-control"
                               id="wheelbase" name="wheelbase"
                               value="{{ input_values['wheelbase'] }}" required>

                        <label class="form-label mt-3" for="carlength">
                            Araç Uzunluğu (Car Length)
                        </label>
                        <input type="number" step="0.1" class="form-control"
                               id="carlength" name="carlength"
                               value="{{ input_values['carlength'] }}" required>

                        <label class="form-label mt-3" for="carwidth">
                            Araç Genişliği (Car Width)
                        </label>
                        <input type="number" step="0.1" class="form-control"
                               id="carwidth" name="carwidth"
                               value="{{ input_values['carwidth'] }}" required>

                        <label class="form-label mt-3" for="curbweight">
                            Araç Ağırlığı (Curb Weight)
                        </label>
                        <input type="number" step="1" class="form-control"
                               id="curbweight" name="curbweight"
                               value="{{ input_values['curbweight'] }}" required>

                        <label class="form-label mt-3" for="enginesize">
                            Motor Hacmi (Engine Size)
                        </label>
                        <input type="number" step="1" class="form-control"
                               id="enginesize" name="enginesize"
                               value="{{ input_values['enginesize'] }}" required>
                    </div>

                    <!-- SAĞ SÜTUN -->
                    <div class="col-md-6">

                        <label class="form-label" for="horsepower">
                            Beygir Gücü (Horsepower)
                        </label>
                        <input type="number" step="1" class="form-control"
                               id="horsepower" name="horsepower"
                               value="{{ input_values['horsepower'] }}" required>

                        <label class="form-label mt-3" for="citympg">
                            Şehir İçi Yakıt Tüketimi (City MPG)
                        </label>
                        <input type="number" step="1" class="form-control"
                               id="citympg" name="citympg"
                               value="{{ input_values['citympg'] }}" required>

                        <label class="form-label mt-3" for="highwaympg">
                            Şehir Dışı Yakıt Tüketimi (Highway MPG)
                        </label>
                        <input type="number" step="1" class="form-control"
                               id="highwaympg" name="highwaympg"
                               value="{{ input_values['highwaympg'] }}" required>

                        <label class="form-label mt-3" for="carbody">
                            Kasa Tipi
                        </label>
                        <select class="form-select" id="carbody" name="carbody" required>
                            {% set cb = input_values['carbody'] %}
                            <option value="">Seçiniz...</option>
                            <option value="convertible" {% if cb == 'convertible' %}selected{% endif %}>Cabrio</option>
                            <option value="hatchback" {% if cb == 'hatchback' %}selected{% endif %}>Hatchback</option>
                            <option value="sedan" {% if cb == 'sedan' %}selected{% endif %}>Sedan</option>
                            <option value="wagon" {% if cb == 'wagon' %}selected{% endif %}>Station Wagon</option>
                            <option value="hardtop" {% if cb == 'hardtop' %}selected{% endif %}>Hardtop</option>
                        </select>

                        <label class="form-label mt-3" for="drivewheel">
                            Çekiş Tipi
                        </label>
                        <select class="form-select" id="drivewheel" name="drivewheel" required>
                            {% set dw = input_values['drivewheel'] %}
                            <option value="">Seçiniz...</option>
                            <option value="fwd" {% if dw == 'fwd' %}selected{% endif %}>Önden Çekiş</option>
                            <option value="rwd" {% if dw == 'rwd' %}selected{% endif %}>Arkadan İtiş</option>
                            <option value="4wd" {% if dw == '4wd' %}selected{% endif %}>4x4</option>
                        </select>
                    </div>
                </div>

                <!-- BUTON & SONUÇ -->
                <div class="mt-4 d-flex justify-content-between align-items-center">
                    <button type="submit" class="btn btn-success px-4">
                        Fiyatı Tahmin Et
                    </button>

                    {% if prediction is not none %}
                    <div class="alert alert-primary mb-0 prediction-box">
                        Tahmini Fiyat: <span>${{ prediction }}</span>
                    </div>
                    {% endif %}
                </div>
            </form>

        </div>
    </div>
</div>
</body>
</html>
